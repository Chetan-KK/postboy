<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DELETE Request Documentation - Postboy</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Highlight.js CSS - Adding atom-one-dark and atom-one-light themes for dark/light mode -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css" id="hljs-dark-theme">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-light.min.css" id="hljs-light-theme" disabled>
</head>
<body class="dark-mode">
    <header>
        <div class="logo">
            <a href="index.html" class="logo-link"><h1>Postboy</h1></a>
        </div>
        <nav class="main-nav">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="get-docs.html">GET Docs</a></li>
                <li><a href="post-docs.html">POST Docs</a></li>
                <li><a href="put-docs.html">PUT Docs</a></li>
                <li><a href="delete-docs.html">DELETE Docs</a></li>
            </ul>
        </nav>
        <div class="theme-toggle">
            <button id="theme-toggle-btn">
                <i class="fas fa-moon"></i>
                <span>Toggle Theme</span>
            </button>
        </div>
        <button class="mobile-menu-btn">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>
    </header>

    <!-- Mobile Sidebar -->
    <div class="sidebar">
        <nav class="main-nav">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="get-docs.html">GET Docs</a></li>
                <li><a href="post-docs.html">POST Docs</a></li>
                <li><a href="put-docs.html">PUT Docs</a></li>
                <li><a href="delete-docs.html">DELETE Docs</a></li>
            </ul>
        </nav>
        <div class="theme-toggle">
            <button id="sidebar-theme-toggle-btn">
                <i class="fas fa-moon"></i>
                <span>Toggle Theme</span>
            </button>
        </div>
    </div>
    
    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay"></div>

    <main class="documentation">
        <div class="doc-header">
            <h1>DELETE Request Documentation</h1>
            <p>Learn how to make DELETE requests using our Postboy</p>
        </div>

        <section class="doc-section">
            <h2>What is a DELETE Request?</h2>
            <p>
                The HTTP DELETE method is used to delete a specified resource from the server.
                It removes the resource identified by the URI, and once deleted, subsequent requests 
                to that resource should return a 404 Not Found or 410 Gone status.
            </p>
            <p>
                <strong>Key characteristics of DELETE requests:</strong>
            </p>
            <ul>
                <li>Idempotent - multiple identical requests have the same effect as a single request</li>
                <li>Removes the specified resource from the server</li>
                <li>Not cached</li>
                <li>May or may not have a request body (typically doesn't)</li>
                <li>Successful deletion often returns 200, 202, or 204 status codes</li>
                <li>Safe to retry without additional side effects</li>
            </ul>
        </section>

        <section class="doc-section">
            <h2>When to Use DELETE Requests</h2>
            <p>Use DELETE requests when you need to:</p>
            <ul>
                <li>Remove a user account</li>
                <li>Delete a post, comment, or article</li>
                <li>Remove an item from a shopping cart</li>
                <li>Delete a file or image</li>
                <li>Revoke access tokens or sessions</li>
                <li>Remove a database record</li>
            </ul>
        </section>

        <section class="doc-section">
            <h2>How to Make a DELETE Request</h2>
            <p>Using our Postboy, follow these steps to make a DELETE request:</p>
            <ol>
                <li>Select <code>DELETE</code> from the method dropdown</li>
                <li>Enter the URL of the resource you want to delete</li>
                <li>Add headers in the "Headers" tab if needed (e.g., Authorization)</li>
                <li>Optionally add a request body in the "Body" tab (some APIs require this)</li>
                <li>Click the "Send" button</li>
            </ol>
            <p>The response will appear in the response section below.</p>
        </section>

        <section class="doc-section">
            <h2>Example DELETE Requests</h2>
            
            <div class="example">
                <h3>Example 1: Delete a Resource</h3>
                <div class="example-code">
                    <div class="code-header">
                        <span>HTTP</span>
                        <button class="copy-code-btn" aria-label="Copy code to clipboard"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <pre><code class="language-http">DELETE https://jsonplaceholder.typicode.com/posts/1 HTTP/1.1
Host: jsonplaceholder.typicode.com</code></pre>
                </div>
                <p>Response:</p>
                <div class="example-code">
                    <div class="code-header">
                        <span>JSON</span>
                        <button class="copy-code-btn" aria-label="Copy code to clipboard"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <pre><code class="language-json">{}</code></pre>
                </div>
                <p><em>Status: 200 OK - The resource was successfully deleted</em></p>
            </div>

            <div class="example">
                <h3>Example 2: Delete with Authorization</h3>
                <div class="example-code">
                    <div class="code-header">
                        <span>HTTP</span>
                        <button class="copy-code-btn" aria-label="Copy code to clipboard"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <pre><code class="language-http">DELETE https://api.example.com/users/123 HTTP/1.1
Host: api.example.com
Authorization: Bearer your_token_here</code></pre>
                </div>
                <p>Response:</p>
                <div class="example-code">
                    <div class="code-header">
                        <span>JSON</span>
                        <button class="copy-code-btn" aria-label="Copy code to clipboard"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <pre><code class="language-json">{
  "message": "User successfully deleted",
  "userId": 123,
  "deletedAt": "2024-01-15T10:30:00Z"
}</code></pre>
                </div>
                <p><em>Status: 200 OK - Deletion confirmed with response body</em></p>
            </div>

            <div class="example">
                <h3>Example 3: Delete with No Content Response</h3>
                <div class="example-code">
                    <div class="code-header">
                        <span>HTTP</span>
                        <button class="copy-code-btn" aria-label="Copy code to clipboard"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <pre><code class="language-http">DELETE https://api.store.com/cart/items/789 HTTP/1.1
Host: api.store.com
Authorization: Bearer your_token_here
Content-Type: application/json</code></pre>
                </div>
                <p>Response:</p>
                <div class="example-code">
                    <div class="code-header">
                        <span>HTTP</span>
                        <button class="copy-code-btn" aria-label="Copy code to clipboard"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <pre><code class="language-http">HTTP/1.1 204 No Content</code></pre>
                </div>
                <p><em>Status: 204 No Content - Successfully deleted with no response body</em></p>
            </div>

            <div class="example">
                <h3>Example 4: Delete with Request Body</h3>
                <div class="example-code">
                    <div class="code-header">
                        <span>HTTP</span>
                        <button class="copy-code-btn" aria-label="Copy code to clipboard"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <pre><code class="language-http">DELETE https://api.example.com/comments/456 HTTP/1.1
Host: api.example.com
Content-Type: application/json
Authorization: Bearer your_token_here

{
  "reason": "spam",
  "notifyUser": false
}</code></pre>
                </div>
                <p>Response:</p>
                <div class="example-code">
                    <div class="code-header">
                        <span>JSON</span>
                        <button class="copy-code-btn" aria-label="Copy code to clipboard"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <pre><code class="language-json">{
  "message": "Comment deleted successfully",
  "commentId": 456,
  "reason": "spam"
}</code></pre>
                </div>
                <p><em>Some APIs accept a request body with DELETE to provide additional context</em></p>
            </div>
        </section>

        <section class="doc-section">
            <h2>Common HTTP Status Codes for DELETE Requests</h2>
            <ul class="status-codes">
                <li><strong>200 OK</strong> - The resource was successfully deleted and a response body is returned</li>
                <li><strong>202 Accepted</strong> - The deletion request has been accepted but not yet completed</li>
                <li><strong>204 No Content</strong> - The resource was successfully deleted with no response body</li>
                <li><strong>400 Bad Request</strong> - The request was malformed or invalid</li>
                <li><strong>401 Unauthorized</strong> - Authentication is required and has failed or not been provided</li>
                <li><strong>403 Forbidden</strong> - The client does not have permission to delete the resource</li>
                <li><strong>404 Not Found</strong> - The resource to delete doesn't exist</li>
                <li><strong>405 Method Not Allowed</strong> - DELETE method is not allowed for this resource</li>
                <li><strong>409 Conflict</strong> - The deletion conflicts with the current state (e.g., resource is locked)</li>
                <li><strong>410 Gone</strong> - The resource was previously deleted and is no longer available</li>
                <li><strong>500 Internal Server Error</strong> - The server encountered an error while deleting</li>
            </ul>
        </section>

        <section class="doc-section">
            <h2>Best Practices for DELETE Requests</h2>
            <ul>
                <li><strong>Use proper authorization</strong> - Always verify the user has permission to delete the resource</li>
                <li><strong>Be specific with URIs</strong> - Include the exact resource ID to avoid accidental deletions</li>
                <li><strong>Implement soft deletes</strong> - Consider marking records as deleted instead of permanent removal</li>
                <li><strong>Return appropriate status codes</strong> - Use 204 for no content or 200 with confirmation data</li>
                <li><strong>Consider cascade effects</strong> - Think about related data that may need to be deleted</li>
                <li><strong>Add confirmation mechanisms</strong> - For critical resources, require additional confirmation</li>
                <li><strong>Log deletion activities</strong> - Keep audit trails for accountability</li>
                <li><strong>Handle idempotency correctly</strong> - Return 404 or 410 for already-deleted resources</li>
            </ul>
        </section>

        <section class="doc-section">
            <h2>Soft Delete vs Hard Delete</h2>
            <div class="comparison-table">
                <p><strong>Hard Delete</strong> - Permanently removes the data from the database. Cannot be recovered.</p>
                <ul>
                    <li>Frees up storage space immediately</li>
                    <li>No recovery possible</li>
                    <li>Breaks referential integrity if not handled carefully</li>
                </ul>
                
                <p><strong>Soft Delete</strong> - Marks the data as deleted but keeps it in the database (e.g., with a <code>deleted_at</code> timestamp).</p>
                <ul>
                    <li>Allows for data recovery</li>
                    <li>Maintains audit trails</li>
                    <li>Preserves referential integrity</li>
                    <li>Can be permanently deleted later</li>
                </ul>
            </div>
        </section>

        <section class="doc-section">
            <h2>Try It in JavaScript</h2>
            <p>Here's how you can make a DELETE request in JavaScript:</p>
            <div class="example">
                <h3>JavaScript Example</h3>
                <div class="example-code">
                    <div class="code-header">
                        <span>JavaScript</span>
                        <button class="copy-code-btn" aria-label="Copy code to clipboard"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <pre><code class="language-javascript">// Using fetch API
fetch('https://jsonplaceholder.typicode.com/posts/1', {
  method: 'DELETE'
})
.then(response => {
  if (!response.ok) {
    throw new Error('Network response was not ok');
  }
  // Some APIs return 204 No Content, which has no body
  if (response.status === 204) {
    console.log('Resource deleted successfully (no content)');
    return null;
  }
  return response.json();
})
.then(data => {
  if (data) {
    console.log('Resource deleted:', data);
  }
})
.catch(error => console.error('Error:', error));

// Using async/await with authorization
async function deleteResource(resourceId) {
  try {
    const response = await fetch(`https://api.example.com/posts/${resourceId}`, {
      method: 'DELETE',
      headers: {
        'Authorization': 'Bearer your_token_here',
        'Content-Type': 'application/json'
      }
    });
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    // Handle different response types
    if (response.status === 204) {
      console.log('Resource deleted successfully');
      return { success: true };
    }
    
    const data = await response.json();
    console.log('Resource deleted:', data);
    return data;
  } catch (error) {
    console.error('Error deleting resource:', error);
    throw error;
  }
}

// Example with confirmation
async function deleteWithConfirmation(resourceId) {
  if (!confirm('Are you sure you want to delete this resource?')) {
    return;
  }
  
  try {
    await deleteResource(resourceId);
    alert('Resource deleted successfully!');
  } catch (error) {
    alert('Failed to delete resource. Please try again.');
  }
}

// Delete with request body (if API requires it)
async function deleteWithReason(resourceId, reason) {
  try {
    const response = await fetch(`https://api.example.com/items/${resourceId}`, {
      method: 'DELETE',
      headers: {
        'Authorization': 'Bearer your_token_here',
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        reason: reason,
        timestamp: new Date().toISOString()
      })
    });
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    return await response.json();
  } catch (error) {
    console.error('Error:', error);
    throw error;
  }
}

// Example usage
deleteWithConfirmation(123);</code></pre>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-attribution">
            Made with <i class="fas fa-heart"></i> by <a href="https://github.com/Chetan-KK" target="_blank">Chetan-KK</a>
        </div>
    </footer>

    <!-- Highlight.js JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/http.min.js"></script>
    <script>
        // Apply theme from localStorage
        function applyTheme() {
            const currentTheme = localStorage.getItem('postboyTheme') || 'dark-mode';
            const body = document.body;
            const mainIcon = document.querySelector('#theme-toggle-btn i');
            const sidebarIcon = document.querySelector('#sidebar-theme-toggle-btn i');
            
            // Apply saved theme
            if (currentTheme === 'light-mode') {
                body.classList.remove('dark-mode');
                body.classList.add('light-mode');
                
                // Update both icons
                if (mainIcon) {
                    mainIcon.classList.remove('fa-moon');
                    mainIcon.classList.add('fa-sun');
                }
                
                if (sidebarIcon) {
                    sidebarIcon.classList.remove('fa-moon');
                    sidebarIcon.classList.add('fa-sun');
                }
                
                // Toggle highlight.js themes
                document.getElementById('hljs-dark-theme').disabled = true;
                document.getElementById('hljs-light-theme').disabled = false;
            } else {
                body.classList.remove('light-mode');
                body.classList.add('dark-mode');
                
                // Update both icons
                if (mainIcon) {
                    mainIcon.classList.remove('fa-sun');
                    mainIcon.classList.add('fa-moon');
                }
                
                if (sidebarIcon) {
                    sidebarIcon.classList.remove('fa-sun');
                    sidebarIcon.classList.add('fa-moon');
                }
                
                // Toggle highlight.js themes
                document.getElementById('hljs-dark-theme').disabled = false;
                document.getElementById('hljs-light-theme').disabled = true;
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Apply theme from localStorage on page load
            applyTheme();
            
            // Highlight code blocks
            document.querySelectorAll('pre code').forEach(block => {
                hljs.highlightElement(block);
            });

            // Add copy functionality for all code examples
            document.querySelectorAll('.copy-code-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const codeBlock = this.closest('.example-code').querySelector('code');
                    const textToCopy = codeBlock.textContent;
                    
                    navigator.clipboard.writeText(textToCopy)
                        .then(() => {
                            // Visual feedback
                            const originalText = this.innerHTML;
                            this.innerHTML = '<i class="fas fa-check"></i> Copied!';
                            this.classList.add('copied');
                            
                            // Reset after 2 seconds
                            setTimeout(() => {
                                this.innerHTML = originalText;
                                this.classList.remove('copied');
                            }, 2000);
                        })
                        .catch(err => {
                            console.error('Failed to copy text: ', err);
                            alert('Failed to copy to clipboard');
                        });
                });
            });

            // Mobile sidebar toggle
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            const sidebar = document.querySelector('.sidebar');
            const sidebarOverlay = document.querySelector('.sidebar-overlay');
            
            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', () => {
                    sidebar.classList.toggle('active');
                    sidebarOverlay.classList.toggle('active');
                    mobileMenuBtn.classList.toggle('mobile-menu-open');
                    document.body.classList.toggle('sidebar-open');
                });
            }
            
            if (sidebarOverlay) {
                sidebarOverlay.addEventListener('click', () => {
                    sidebar.classList.remove('active');
                    sidebarOverlay.classList.remove('active');
                    mobileMenuBtn.classList.remove('mobile-menu-open');
                    document.body.classList.remove('sidebar-open');
                });
            }

            // Main theme toggle button
            const themeToggleBtn = document.getElementById('theme-toggle-btn');
            if (themeToggleBtn) {
                themeToggleBtn.addEventListener('click', toggleTheme);
            }
            
            // Sidebar theme toggle button
            const sidebarThemeToggleBtn = document.getElementById('sidebar-theme-toggle-btn');
            if (sidebarThemeToggleBtn) {
                sidebarThemeToggleBtn.addEventListener('click', toggleTheme);
            }
            
            // Theme toggle function
            function toggleTheme() {
                const body = document.body;
                const mainIcon = document.querySelector('#theme-toggle-btn i');
                const sidebarIcon = document.querySelector('#sidebar-theme-toggle-btn i');
                
                if (body.classList.contains('dark-mode')) {
                    body.classList.remove('dark-mode');
                    body.classList.add('light-mode');
                    
                    // Update both icons
                    if (mainIcon) {
                        mainIcon.classList.remove('fa-moon');
                        mainIcon.classList.add('fa-sun');
                    }
                    
                    if (sidebarIcon) {
                        sidebarIcon.classList.remove('fa-moon');
                        sidebarIcon.classList.add('fa-sun');
                    }
                    
                    // Toggle highlight.js themes
                    document.getElementById('hljs-dark-theme').disabled = true;
                    document.getElementById('hljs-light-theme').disabled = false;
                    
                    // Save theme preference to localStorage
                    localStorage.setItem('postboyTheme', 'light-mode');
                } else {
                    body.classList.remove('light-mode');
                    body.classList.add('dark-mode');
                    
                    // Update both icons
                    if (mainIcon) {
                        mainIcon.classList.remove('fa-sun');
                        mainIcon.classList.add('fa-moon');
                    }
                    
                    if (sidebarIcon) {
                        sidebarIcon.classList.remove('fa-sun');
                        sidebarIcon.classList.add('fa-moon');
                    }
                    
                    // Toggle highlight.js themes
                    document.getElementById('hljs-dark-theme').disabled = false;
                    document.getElementById('hljs-light-theme').disabled = true;
                    
                    // Save theme preference to localStorage
                    localStorage.setItem('postboyTheme', 'dark-mode');
                }
                
                // Re-highlight visible code blocks
                document.querySelectorAll('pre code').forEach(block => {
                    if (block.textContent) {
                        hljs.highlightElement(block);
                    }
                });
            }
        });
    </script>
</body>
</html>

